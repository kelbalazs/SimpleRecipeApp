{"remainingRequest":"/home/balazs/SimpleRecipeApp/node_modules/babel-loader/lib/index.js!/home/balazs/SimpleRecipeApp/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/balazs/SimpleRecipeApp/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/balazs/SimpleRecipeApp/src/views/Home.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/balazs/SimpleRecipeApp/src/views/Home.vue","mtime":1649610168828},{"path":"/home/balazs/SimpleRecipeApp/babel.config.js","mtime":1649272392326},{"path":"/home/balazs/SimpleRecipeApp/node_modules/cache-loader/dist/cjs.js","mtime":1649272426429},{"path":"/home/balazs/SimpleRecipeApp/node_modules/babel-loader/lib/index.js","mtime":1649272427840},{"path":"/home/balazs/SimpleRecipeApp/node_modules/cache-loader/dist/cjs.js","mtime":1649272426429},{"path":"/home/balazs/SimpleRecipeApp/node_modules/vue-loader-v16/dist/index.js","mtime":1649272427784}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvYmFsYXpzL1NpbXBsZVJlY2lwZUFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0IHsgcmVmIH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdIb21lJywKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgbmV3UmVjaXBlID0gcmVmKHsKICAgICAgdGl0bGU6ICcnLAogICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgIGluZ3JlZGllbnRzOiBbXSwKICAgICAgbWV0aG9kczogW10sCiAgICAgIHN1Ym1pdHRlZDogZmFsc2UKICAgIH0pOwogICAgdmFyIHBvcHVwT3BlbiA9IHJlZihmYWxzZSk7CiAgICB2YXIgc3RvcmUgPSB1c2VTdG9yZSgpOwoKICAgIHZhciB0b2dnbGVQb3B1cCA9IGZ1bmN0aW9uIHRvZ2dsZVBvcHVwKCkgewogICAgICBwb3B1cE9wZW4udmFsdWUgPSAhcG9wdXBPcGVuLnZhbHVlOwogICAgfTsKCiAgICB2YXIgYWRkTmV3SW5ncmVkaWVudCA9IGZ1bmN0aW9uIGFkZE5ld0luZ3JlZGllbnQoKSB7CiAgICAgIG5ld1JlY2lwZS52YWx1ZS5pbmdyZWRpZW50cy5wdXNoKHt9KTsKICAgIH07CgogICAgdmFyIGFkZE5ld1N0ZXAgPSBmdW5jdGlvbiBhZGROZXdTdGVwKCkgewogICAgICBuZXdSZWNpcGUudmFsdWUubWV0aG9kcy5wdXNoKHt9KTsKICAgIH07CgogICAgdmFyIGFkZE5ld1JlY2lwZSA9IGZ1bmN0aW9uIGFkZE5ld1JlY2lwZSgpIHsKICAgICAgbmV3UmVjaXBlLnZhbHVlLnN1Ym1pdHRlZCA9IHRydWU7CiAgICAgIG5ld1JlY2lwZS52YWx1ZS5zbHVnID0gbmV3UmVjaXBlLnZhbHVlLnRpdGxlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXHMvZywgJy0nKTsKCiAgICAgIGlmICghbmV3UmVjaXBlLnZhbHVlLnNsdWcpIHsKICAgICAgICBhbGVydCgiUGxlYXNlIGVudGVyIGEgdGl0bGUiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAobmV3UmVjaXBlLnZhbHVlLmluZ3JlZGllbnRzLmxlbmd0aCA8PSAwKSB7CiAgICAgICAgYWxlcnQoIlBsZWFzZSBhZGQgaW5ncmVkaWVudCIpOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmIChuZXdSZWNpcGUudmFsdWUuaW5ncmVkaWVudHMubGVuZ3RoID4gMCkgewogICAgICAgIHZhciBlbXB0eUluY3JlZGllbnQgPSBuZXdSZWNpcGUudmFsdWUuaW5ncmVkaWVudHMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gIWl0ZW0udmFsdWU7CiAgICAgICAgfSk7CiAgICAgICAgY29uc29sZS5sb2coJ2VtcHR5SW5jcmVkaWVudCcsIGVtcHR5SW5jcmVkaWVudCk7CgogICAgICAgIGlmIChlbXB0eUluY3JlZGllbnQubGVuZ3RoICE9PSAwKSB7CiAgICAgICAgICBhbGVydCgiUGxlYXNlIGVudGVyIGluZ3JlZGllbnQiKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHN0b3JlLmNvbW1pdCgnQUREX1JFQ0lQRScsIF9vYmplY3RTcHJlYWQoe30sIG5ld1JlY2lwZS52YWx1ZSkpOwogICAgICBuZXdSZWNpcGUudmFsdWUgPSB7CiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBpbmdyZWRpZW50czogW10sCiAgICAgICAgbWV0aG9kczogW10KICAgICAgfTsKICAgICAgbmV3UmVjaXBlLnZhbHVlLnN1Ym1pdHRlZCA9IGZhbHNlOwogICAgICB0b2dnbGVQb3B1cCgpOwogICAgfTsKCiAgICB2YXIgZGVsZXRlSW5ncmRpZW50ID0gZnVuY3Rpb24gZGVsZXRlSW5ncmRpZW50KGluZGV4KSB7CiAgICAgIG5ld1JlY2lwZS52YWx1ZS5pbmdyZWRpZW50cy5zcGxpY2UoaW5kZXgsIDEpOwogICAgfTsKCiAgICByZXR1cm4gewogICAgICBuZXdSZWNpcGU6IG5ld1JlY2lwZSwKICAgICAgYWRkTmV3UmVjaXBlOiBhZGROZXdSZWNpcGUsCiAgICAgIHRvZ2dsZVBvcHVwOiB0b2dnbGVQb3B1cCwKICAgICAgcG9wdXBPcGVuOiBwb3B1cE9wZW4sCiAgICAgIGFkZE5ld1N0ZXA6IGFkZE5ld1N0ZXAsCiAgICAgIGFkZE5ld0luZ3JlZGllbnQ6IGFkZE5ld0luZ3JlZGllbnQsCiAgICAgIGRlbGV0ZUluZ3JkaWVudDogZGVsZXRlSW5ncmRpZW50CiAgICB9OwogIH0KfTs="},{"version":3,"mappings":"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","names":["ref","useStore","name","setup","newRecipe","title","description","ingredients","methods","submitted","popupOpen","store","togglePopup","value","addNewIngredient","push","addNewStep","addNewRecipe","slug","toLowerCase","replace","alert","length","emptyIncredient","filter","item","console","log","commit","deleteIngrdient","index","splice"],"sourceRoot":"","sources":["/home/balazs/SimpleRecipeApp/src/views/Home.vue"],"sourcesContent":["<template>\n  <div class=\"home\">\n    <h1>My Recipes</h1>\n    <button @click=\"togglePopup\">Add new Recipe</button>\n\n    <div class=\"recipes\">\n      <div class=\"card\" v-for=\"recipe in $store.state.recipes\" :key=\"recipe.slug\">\n        <h2>{{ recipe.title }}</h2>\n        <p>{{ recipe.description }}</p>\n        <router-link :to=\"`/recipe/${recipe.slug}`\">\n          <button>View Recipe</button>\n        </router-link>\n      </div>\n    </div>\n\n    <div class=\"add-recipe-popup\" v-if=\"popupOpen\">\n      <div class=\"popup-content\">\n        <h2>Add new recipe</h2>\n\n        <form @submit.prevent=\"addNewRecipe\">\n          <div class=\"group\">\n            <label>Title</label>\n            <input type=\"text\" v-model=\"newRecipe.title\" />\n          </div>\n\n          <div class=\"group\">\n            <label>Description</label>\n            <textarea v-model=\"newRecipe.description\"></textarea>\n          </div>\n\n          <div class=\"group\">\n            <label>Ingredients</label>\n            <div class=\"ingredient\" v-for=\"(ingredient, index) in newRecipe.ingredients\" :key=\"index\">\n              <input type=\"text\" v-model=\"newRecipe.ingredients[index].value\" /> <button type=\"button\" @click=\"deleteIngrdient(index)\">Delete</button>\n              <span class=\"error\" v-if=\"submitted && newRecipe.ingredients[index].value\">Pleaes Enter Ingredients</span>\n            </div>\n            <button type=\"button\" @click=\"addNewIngredient\">Add Ingredient</button>\n          </div>\n\n          <div class=\"group\">\n            <label>Method</label>\n            <div class=\"method\" v-for=\"(method, index) in newRecipe.methods\" :key=\"index\">\n              <textarea :value=\"newRecipe.methods[index].value\"></textarea>\n            </div>\n            <button type=\"button\" @click=\"addNewStep\">Add step</button>\n          </div>\n\n          <button type=\"submit\">Add Recipe</button>\n          <button type=\"button\" @click=\"togglePopup\">Close</button>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {ref} from 'vue';\nimport { useStore } from 'vuex';\n\n\nexport default {\n  name: 'Home',\n  setup () {\n    const newRecipe = ref({\n      title: '',\n      description: '',\n      ingredients: [],\n      methods: [],\n      submitted: false\n    });\n    const popupOpen = ref(false);\n    const store = useStore();\n    const togglePopup = () => {\n      popupOpen.value = !popupOpen.value;\n    }\n    const addNewIngredient = () => {\n      newRecipe.value.ingredients.push({});\n    }\n    \n    const addNewStep = () => {\n      newRecipe.value.methods.push({});\n    }\n    \n    const addNewRecipe = () => {\n      newRecipe.value.submitted = true\n      newRecipe.value.slug = newRecipe.value.title.toLowerCase().replace(/\\s/g, '-');\n      if (!newRecipe.value.slug) {\n        alert(\"Please enter a title\");\n        return;\n      } else if (newRecipe.value.ingredients.length <= 0) {\n        alert(\"Please add ingredient\");\n        return;\n      } else if (newRecipe.value.ingredients.length > 0) {\n        const emptyIncredient = newRecipe.value.ingredients.filter(item => !item.value)\n        console.log('emptyIncredient', emptyIncredient)\n        if (emptyIncredient.length !== 0) {\n          alert(\"Please enter ingredient\");\n          return;\n        }\n      }\n      store.commit('ADD_RECIPE', { ...newRecipe.value });\n      newRecipe.value = {\n        title: '',\n        description: '',\n        ingredients: [],\n        methods: []\n      };\n      newRecipe.value.submitted = false\n      togglePopup();\n    }\n\n    const deleteIngrdient  = (index) => {\n      newRecipe.value.ingredients.splice(index, 1);\n    }\n    \n    return {\n      newRecipe,\n      addNewRecipe,\n      togglePopup,\n      popupOpen,\n      addNewStep,\n      addNewIngredient,\n      deleteIngrdient\n    }\n  }\n}\n</script>\n\n\n<style>\n\n.home {\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\nh1 {\n  font-size: 3rem;\n  margin-bottom: 32px;\n}\n\n.recipes {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n}\n.recipes .card {\n  padding: 1rem;\n  border-radius: 5px;\n  margin: 1rem;\n  background-color: #081c33;\n}\n.recipes .card h2 {\n  font-size: 2rem;\n  margin-bottom: 1rem;\n}\n.recipes .card p {\n  font-size: 1.125rem;\n  line-height: 1.4;\n  margin-bottom: 1rem;\n}\n.add-recipe-popup {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.add-recipe-popup .popup-content {\n  background-color: #3f71aa;\n  padding: 2rem;\n  border-radius: 1rem;\n  width: 100%;\n  max-width: 768px;\n}\n.popup-content h2 {\n  font-size: 2rem;\n  margin-bottom: 1rem;\n}\n.popup-content .group {\n  margin-bottom: 1rem;\n}\n.popup-content .group label {\n  display: block;\n  margin-bottom: 0.5rem;\n}\n.popup-content .group input,\n.popup-content .group textarea {\n  display: block;\n  width: 100%;\n  padding: 0.5rem;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  margin-bottom: 1rem;\n}\n.popup-content .group textarea {\n  height: 100px;\n  resize: none;\n}\n.popup-content button[type=\"submit\"] {\n  margin-right: 1rem;\n}\n.ingredient input[type=\"text\"] {\n  width: 75%;\n  float: left;\n} \n.ingredient button  {\n  width: 20%;\n  margin: 2px 5px;\n} \n</style>"]}]}